import {Stack, StackProps} from 'aws-cdk-lib';
import {Construct} from 'constructs';
import {Codepipeline} from "./codepipeline";
import {Ecr} from "./ecr";
import {CodeCommit} from "./codecommit";

export class CodepipelineDockerVulnerabilityScanStack extends Stack {

    constructor(scope: Construct, id: string, props?: StackProps) {
        super(scope, id, props);

        //Setup CodeCommit repository
        new CodeCommit(this).setupCodeCommitRepository("customer-service")

        //Setup ECR repository
        new Ecr(this).setupRepository("customer-service");

        //Setup Codepipeline
        new Codepipeline(this).setupPipeline();
    }


}
